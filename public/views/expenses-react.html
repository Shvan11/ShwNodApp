<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Expense Management - React</title>

  <!-- CSS Imports -->
  <link rel="stylesheet" href="../css/main.css" />
  <link rel="stylesheet" href="../css/components/universal-header.css" />
  <link rel="stylesheet" href="../css/pages/expenses.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- React and ReactDOM from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Import maps for ES modules -->
  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18",
        "react-dom": "https://esm.sh/react-dom@18",
        "react-dom/client": "https://esm.sh/react-dom@18/client"
      }
    }
  </script>
</head>

<body>
  <!-- Universal header mount point -->
  <div id="universal-header-root"></div>

  <!-- Expenses App mount point -->
  <div id="expenses-app-root"></div>

  <!-- Mount React Components -->
  <script type="module">
    import React from 'react';
    import ReactDOM from 'react-dom/client';
    import UniversalHeader from '/js/components/react/UniversalHeader.jsx';
    import ExpensesApp from '/js/apps/ExpensesApp.jsx';

    document.addEventListener('DOMContentLoaded', function() {
      // Mount Universal Header
      const headerRoot = document.getElementById('universal-header-root');
      if (headerRoot) {
        const root = ReactDOM.createRoot(headerRoot);
        root.render(React.createElement(UniversalHeader));
      }

      // Mount Expenses App
      const appRoot = document.getElementById('expenses-app-root');
      if (appRoot) {
        const root = ReactDOM.createRoot(appRoot);
        root.render(React.createElement(ExpensesApp));
      }
    });
  </script>
</body>

</html>
